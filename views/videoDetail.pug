extends ./layouts/main
include ./mixins/videoPlayer

block content
    .videoWrapper   
        .videoColumn
            .videoContainer
                +videoPlayer({
                    file : video.fileUrl
                })
                .videoInfo
                    if loggedUser && video.creator.id === loggedUser.id
                        a.editBtn(href=`${routes.videos}${routes.editVideo(video.id)}`) Edit Video
                    h3.info.videoTitle= video.title
                    .info
                        .infoColumn
                            span.videoViews= `VIEWS ${video.views} â€¢ ${dateFormatter(video.createdAt)}`
                        .infoColumn    
                            span.like#jsLikeBtn
                                button
                                    i.fas.fa-thumbs-up  
                                span.cnt#jsLikeCount=video.like
                            span.dislike#jsDislikeBtn
                                button
                                    i.fas.fa-thumbs-down  
                                span.cnt#jsDislikeCount=video.dislike
                .videoDescription                                
                    .videoCreator Uploaded by 
                        a(href=`${routes.users}${routes.userDetail(video.creator.id)}`)=video.creator.name
                    p.description Lorem ipsum dolor sit amet consectetur adipisicing elit. Vel quam repellendus totam ad ipsum quidem nam harum! Tempore, reiciendis tenetur asperiores neque doloremque, voluptatem aut in ab obcaecati, rerum qui?Perspiciatis recusandae beatae earum corporis.
            .commentContainer#jsCommentContainer
                .commentHeader
                    if video.comments.length === 1
                        h3.commentCount #{video.comments.length} Comment
                    else
                        h3.commentCount #{video.comments.length} Comments
                    form#jsCommentForm
                        img(src="/uploads/avatar/avatar.png")
                        input#jsCommentInput(type="text" name="comment" placeholder="Add a public comment.....")
                        .btnBox
                            button#jsCommentCancelBtn CANCEL
                            button#jsCommentSubmitBtn COMMENT
                .commentList#jsCommentList 
        .videoColumn related video list     